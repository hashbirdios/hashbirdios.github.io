(()=>{let e,t,s=0,a=!1,o=0,l="stopwatch";self.onmessage=function(n){const{action:c,time:i,mode:r}=n.data;self.postMessage({log:"Received action: ".concat(c,", mode: ").concat(r)}),r&&(l=r),"start"===c?(a||("timer"===l?(o=i,t=Date.now()):t=Date.now()-(i||0),a=!0,e=setInterval((()=>{"stopwatch"===l?s=Date.now()-t:"timer"===l&&(s=Math.max(o-(Date.now()-t),0),s<=0&&(clearInterval(e),a=!1)),self.postMessage({time:s})}),100)),self.postMessage({log:"Starting with time: ".concat(i)})):"pause"===c?(a=!1,clearInterval(e),self.postMessage({log:"Paused"})):"reset"===c&&(a=!1,clearInterval(e),s="timer"===l?i:0,self.postMessage({time:s}),self.postMessage({log:"Resetting timer"}))}})();