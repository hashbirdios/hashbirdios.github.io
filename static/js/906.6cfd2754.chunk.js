(()=>{let e,t,s=0,a=0,o=!1,n=0,i="stopwatch";self.onmessage=function(l){const{action:c,time:m,mode:r}=l.data;self.postMessage({log:"Received action: ".concat(c,", mode: ").concat(r)}),r&&(i=r),"start"===c?(o||("timer"===i?(n=m,t=Date.now()):t=Date.now()-(m||0),o=!0,e=setInterval((()=>{"stopwatch"===i?a=Date.now()-t:"timer"===i&&(a=Math.max(n-(Date.now()-t),0),s=Date.now()-t,a<=0&&(clearInterval(e),o=!1)),self.postMessage({time:a,timerTime:s})}),100)),self.postMessage({log:"Starting with time: ".concat(m)})):"pause"===c?(o=!1,clearInterval(e),self.postMessage({log:"Paused"})):"reset"===c&&(o=!1,clearInterval(e),a="timer"===i?m:0,self.postMessage({time:a,timerTime:0}),self.postMessage({log:"Resetting timer"}))}})();